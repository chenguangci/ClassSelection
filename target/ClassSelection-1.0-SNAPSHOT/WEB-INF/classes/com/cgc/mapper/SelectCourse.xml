<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.cgc.mapper.SelectCourseMapper">
    <resultMap id="selectCourse" type="com.cgc.bean.SelectCourse">
        <result column="studentNo" property="studentNo"/>
        <result column="courseNo" property="courseNo"/>
        <result column="teacherNo" property="teacherNo"/>
        <result column="grade" property="grade"/>
    </resultMap>
    <cache eviction="FIFO" flushInterval="60000" readOnly="false" size="128"/>
    <insert id="insertSelectCourses" parameterType="java.util.List">
        INSERT INTO selectcourse VALUES
            <foreach collection="list" item="item" separator=",">
                (#{item.studentNo},#{item.courseNo},#{item.teacherNo},#{item.grade})
            </foreach>
    </insert>

    <!--按条件查询-->
    <select id="selectSelectCourse" parameterType="com.cgc.bean.SelectCourse" resultType="com.cgc.bean.SelectCourse">
        SELECT * FROM selectcourse
        <where>
            <if test="studentNo!=null and !&quot;&quot;.equals(studentNo.trim())">
                AND studentNo LIKE '%' #{studentNo} '%'
            </if>
            <if test="courseNo!=null and !&quot;&quot;.equals(courseNo.trim())">
                AND courseNo LIKE '%' #{courseNo} '%'
            </if>
            <if test="teacherNo!=null and !&quot;&quot;.equals(teacherNo.trim())">
                AND teacherNo LIKE '%' #{teacherNo} '%'
            </if>
        </where>
        ORDER BY studentNo
    </select>

    <delete id="deleteSelectCourses" parameterType="java.util.List">
        <foreach collection="list" item="item" separator=";">
            DELETE FROM selectcourse WHERE studentNo = #{item.studentNo},courseNo = #{item.courseNo},teacherNo = #{item.teacherNo}
        </foreach>
    </delete>

</mapper>